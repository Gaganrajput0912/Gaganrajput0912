<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        console.log('person1 : shows ticket')
        console.log('person2 : shows ticket')
        const preMovie = async () => {
            const promiseWifeBringingTickets = new Promise((resolve, reject) => {
                setTimeout(() => reject('ticket'), 3000)
            })
            const getPopcorn = new Promise((resolve, reject) =>
                resolve('popcorn'))
            const addButter = new Promise((resolve, reject) =>
                resolve('Butter'))

            const getColdDrinks = new Promise((resolve, reject) =>
                resolve('ColdDrink'))


            // console.log(`Wife : i have the ${ticket}`)
            // console.log('Husband : we should go in')
            // console.log('Wife : no I am hungry')

            // let popcorn = await getPopcorn
            // console.log(`Husband : i got some ${popcorn}`)
            // console.log('Husband : we should go in')
            // console.log('Wife : i need butter on popcorn')

            // let butter = await addButter
            // console.log(`Husband : i got some ${butter} on popcorn`)
            // console.log('Husband : Anything else')
            // console.log('Wife : Now we go')


            // let colddrink = await getColdDrinks
            // console.log(`Wife : Please get ${colddrink}`)
            // console.log('Husband : Ok')
            // let [popcorn, butter, colddrink] = await Promise.all([getPopcorn, addButter, getColdDrinks])
            // console.log(`${popcorn} , ${butter} , ${colddrink}`)
            let ticket
            try {
                ticket = await promiseWifeBringingTickets;
            } catch (e) {
                ticket = 'sad face'
            }

            return ticket
        }




        preMovie().then((m) =>
            console.log(`Person3 : shows ${m}`)
        );
        // const promiseWifeBringing = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         resolve('ticket')
        //     }, 3000)
        // })


        // const getPopcorn = promiseWifeBringing.then((t) => {
        //     console.log('Wife : i have the tickets')
        //     console.log('Husband : we should go in')
        //     console.log('Wife : no I am hungry')
        //     return new Promise((resolve, reject) =>
        //         resolve(`${t} popcorn`))
        //     // console.log(`person3 : shows ${t}`)
        // })
        // const getMore = getPopcorn.then((t) => {
        //     console.log('Husband : i got some popcorn')
        //     console.log('Husband : we should go in')
        //     console.log('Wife : i need butter on popcorn')
        //     return new Promise((resolve, reject) =>
        //         resolve(`${t} butter`))
        // })

        // getMore.then((t) => console.log(t))
        console.log('person4 : shows ticket')
        console.log('person5 : shows ticket')
    </script>
</body>

</html>